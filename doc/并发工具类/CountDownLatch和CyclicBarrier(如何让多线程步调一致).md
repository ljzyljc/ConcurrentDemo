### CountDownLatch和CyclicBarrier  如何让多线程步调一致？

使用CountDownLatch实现线程等待

使用CyclicBarrier实现线程同步

生产者-消费者队列（两个队列），三个线程，两个生产者队列，一个消费者队列，
    
两个生产者需要完全的并行执行,不能一个跑的太快，一个跑的太慢，只要这样才能做到各自生产完1条数据的时候，通知线程3

    1 2 3 4 5 6 7 
    
    | | | | | | |
    
    1 2 3 4 5 6 7 
    
    
CountDownLatch主要是用来解决一个线程等待多个线程的场景，可以类比旅游团团长要等待多个游客到齐才能去下一个景点。

而CyclicBarrier是一组线程直接互相等待，更像是几个驴友直接的不离不弃。

除此之外CountDownLatch的计数器是不能循环利用的，也就是说一旦计数器减到0，再有线程调用await(),该线程会直接通过，

而CyclicBarrier的计数器的可以循环利用的，而且具备自动重置的功能。CyclicBarrier还可以设置回调函数，可以说是功能丰富。