### Semaphore如何快速实现一个限流器

Semaphore普遍翻译为"信号量"

信号量模型，简单概况为：一个计数器，一个等待队列，三个方法。在信号量模型里，计数器和等待队列对外是透明的，

    所以只能通过信号量模型提供的三个方法来访问他们，init(),down(),up()


    1.init():设置计数器的初始值

    2.down():计数器的值减一；如果此时计数器的值小于0，则当前线程将被阻塞，否则当前线程可以继续执行。

    3.up():计数器的值加1；如果此时计数器的值小于或者等于0，则唤醒等待队列中的一个线程，并将其从等待队列中移除。

这三个方法都是原子性的，并且这个原子性是由信号量模型的实现方保证的。在Java SDK里面，
    信号量模型是由java.util.concurrent.Semaphore实现的。Semaphore这个类能够保证这三个方法都是原子操作。

    信号量模型里面，down(),up()这两个操作历史上最早称为P操作和V操作，所以信号量模型也被称为PV原语。


Semaphore可以允许多个线程访问一个临界区

快速实现一个限流器，这里的限流，指的是*不允许多于N个线程同时进入临界区*。