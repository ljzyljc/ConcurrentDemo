### Java线程（创建多少线程才是合适的）

1.在并发编程领域，提升性能的本质上就是提升硬件的利用率，具体来说就是提升I/O的利用率和CPU的利用率。

由于I/O设备的速度相对于CPU来说都很慢，所以大部分情况下，I/O操作执行的时间对于CPU来说都非常长，
    这种场景我们一般都称为I/O密集型计算；还有一个是CPU密集型计算，CPU密集型计算大部分场景都是纯CPU计算。

对于CPU密集型的计算场景，理论上"线程的数量 = CPU核数就是合适的"。不过在工程上，线程的诗句一般会设置为"CPU核数+1，
    这样的话，当线程因为偶尔的内存页失效或者其他原因导致阻塞时，这个额外的线程可以顶上，从而保证了CPU的利用率。


 对于I/O密集型计算场景，最佳的线程数是与程序中CPU计算和I/O操作耗时比相关的，我们可以总结出这样一个公式：

    最佳线程数 = 1 + （I/O耗时 / CPU耗时） ，令R=I/O耗时 / CPU耗时
    可以这样理解：当线程A线程执行I/O操作时，另外R个线程正好执行完各自的CPU计算。这样的CPU利用率就达到了100%，对于单核

    多核： 最佳线程数=CPU核数*[1+(I/O / CPU耗时)]      apm工具可以测试耗时比

