### 如何利用面向对象思想写好并发程序

1.封装共享变量（AtomicInteger）

2.识别共享变量间的约束条件（留意if语句，可能存在竞态条件）

3.指定并发访问策略
    1.避免同步共享：避免共享的技术主要是利用线程本地存储以及为每个任务分配独立的线程。
    2.不变模式：这个在Java领域应用的很少，在其他领域却又广泛的应用，例如Actor模式，CSP模式以及函数式编程的基础都是不变模式
    3.管程及其他同步工具
    

一些宏观的原则：

1.优先使用成熟的工具类

2.迫不得已才使用低级的同步原语：低级的同步原语主要指的是synchroinzed,Lock,Semaphore等，须小心使用

3.避免过早优化，安全最重要，出现性能瓶颈再优化    


锁应该是私有的，不可变的，不可重用的

方法调用时先计算参数，然后将参数压入调用栈之后才会执行方法体。（打印日志的时候最好使用占位符）